version: '3'
services: 
  foundation_node:
    image: shiki92/foundation_node:latest
    volumes: 
      - "/home/gongyueyang/BlockChain/DonationSystem/docker/data/foundation/console/accounts:/fisco/console/accounts"
      - "/home/gongyueyang/BlockChain/DonationSystem/docker/data/foundation/console/contracts:/fisco/console/contracts"
      - "/home/gongyueyang/BlockChain/DonationSystem/docker/data/foundation/node:/fisco/node/node"
    ports: 
      - "20201:20200"
    networks: 
      fisco_net:
        ipv4_address: 172.100.0.2
    deploy:
      resources:
        limits:
          memory: 250M

  logistic_node:
    image: shiki92/logistic_node:latest
    volumes: 
      - "/home/gongyueyang/BlockChain/DonationSystem/docker/data/logistic/console/accounts:/fisco/console/accounts"
      - "/home/gongyueyang/BlockChain/DonationSystem/docker/data/logistic/console/contracts:/fisco/console/contracts"
      - "/home/gongyueyang/BlockChain/DonationSystem/docker/data/logistic/node:/fisco/node/node"
    ports: 
      - "20202:20200"
    networks: 
      fisco_net:
        ipv4_address: 172.100.0.3
    deploy:
      resources:
        limits:
          memory: 250M

  hospital_node:
    image: shiki92/hospital_node:latest
    volumes: 
      - "/home/gongyueyang/BlockChain/DonationSystem/docker/data/hospital/console/accounts:/fisco/console/accounts"
      - "/home/gongyueyang/BlockChain/DonationSystem/docker/data/hospital/console/contracts:/fisco/console/contracts"
      - "/home/gongyueyang/BlockChain/DonationSystem/docker/data/hospital/node:/fisco/node/node"
    ports: 
      - "20203:20200"
    networks: 
      fisco_net:
        ipv4_address: 172.100.0.4
    deploy:
      resources:
        limits:
          memory: 250M

  platform_node:
    image: shiki92/platform_node:latest
    volumes: 
      - "/home/gongyueyang/BlockChain/DonationSystem/docker/data/platform/console/accounts:/fisco/console/accounts"
      - "/home/gongyueyang/BlockChain/DonationSystem/docker/data/platform/console/contracts:/fisco/console/contracts"
      - "/home/gongyueyang/BlockChain/DonationSystem/docker/data/platform/node:/fisco/node/node"
    ports: 
      - "20204:20200"
    networks: 
      fisco_net:
        ipv4_address: 172.100.0.5
    deploy:
      resources:
        limits:
          memory: 250M

  # foundation_jar:
  #   image: shiki92/ds_foundation:latest
  #   volumes: 
  #     - "/home/gongyueyang/BlockChain/DonationSystem/foundation:/app/foundation"
  #   ports: 
  #     - "8081:8080"
  #   networks: 
  #     fisco_net:
  #       ipv4_address: 172.100.0.6

  logistic_jar:
    image: shiki92/ds_logistic:latest
    volumes: 
      - "/home/gongyueyang/BlockChain/DonationSystem/docker/data/logistic/jar/db:/app/db"
      - "/home/gongyueyang/BlockChain/DonationSystem/docker/logs/logistic:/app/logs/"
    ports: 
      - "8082:8080"
    networks: 
      fisco_net:
        ipv4_address: 172.100.0.7

  # hospital_jar:
  #   image: shiki92/ds_hospital:latest
  #   volumes: 
  #     - "/home/gongyueyang/BlockChain/DonationSystem/logistic:/app/logistic"
  #   ports: 
  #     - "8083:8080"
  #   networks: 
  #     fisco_net:
  #       ipv4_address: 172.100.0.8

  platform_jar:
    image: shiki92/ds_platform:latest
    volumes: 
      - "/home/gongyueyang/BlockChain/DonationSystem/docker/data/platform/jar/db:/app/db"
      - "/home/gongyueyang/BlockChain/DonationSystem/docker/logs/platform:/app/logs/"
    ports: 
      - "8084:8080"
    networks: 
      fisco_net:
        ipv4_address: 172.100.0.9
  
networks: 
  fisco_net:
    external: true  